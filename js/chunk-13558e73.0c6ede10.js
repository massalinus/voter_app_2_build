(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13558e73"],{"1d53":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("section",{staticClass:"dt-login--container"},[a("section",{staticClass:"dt-login__content-wrapper"},[a("section",{staticClass:"dt-login__bg-section"},[a("section",{staticClass:"dt-login__bg-content"},[a("a",{staticStyle:{float:"right","margin-right":"-30px","margin-top":"-40px",color:"#fff"},attrs:{href:"#/Login"}},[a("i",{staticClass:"fa fa-arrow-right"})]),a("h1",{staticClass:"dt-login__title",staticStyle:{"margin-left":"-15%","font-weight":"900"}},[t._v(t._s(t.appName))]),a("p",{staticClass:"f-16"},[t._v("Login with your voters account.")])]),a("section",{staticClass:"dt-login__logo"})]),a("section",{staticClass:"dt-login__content"},[a("section",{staticClass:"dt-login__content-inner"},[a("form",[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialogCallResponse,callback:function(e){t.dialogCallResponse=e},expression:"dialogCallResponse"}},[a("v-card",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.showErrorIcon,expression:"showErrorIcon"}],attrs:{dense:"",text:"",type:"error"}},[t._v(" Mobile and OTP combination incorrect "),a("strong",[t._v("Failed")])]),a("sweetalert-icon",{directives:[{name:"show",rawName:"v-show",value:t.showErrorIcon,expression:"showErrorIcon"}],attrs:{icon:"error"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialogCallResponse=!1}}},[t._v("Close")])],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"green",dark:""}},[a("v-card-text",[t._v(" Sending Request Please Stand By "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-text-field",{attrs:{"error-messages":t.mobileErrors,counter:15,label:"Mobile Number",required:""},on:{input:function(e){return t.$v.mobile.$touch()},blur:function(e){return t.$v.mobile.$touch()}},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),a("v-text-field",{attrs:{"error-messages":t.otpErrors,"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",label:"OTP",hint:"your OTP",counter:6},on:{input:function(e){return t.$v.otp.$touch()},blur:function(e){return t.$v.otp.$touch()},"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}),a("v-btn",{staticClass:"mr-4",on:{click:t.submit}},[t._v("Login")]),a("v-btn",{on:{click:t.clear}},[t._v("clear")])],1)]),a("section",{staticClass:"breadCrumbsBox"},[a("v-breadcrumbs",{attrs:{items:t.breadCrumbsData,large:""}})],1)])])])])},s=[],r=a("4360"),i=a("bc3a"),n=a.n(i),l=a("1dce"),c=a("b5ae"),d={name:"Login",created:function(){var t=localStorage.getItem(r["a"].state.setTokenLocalStorageKey);""!==t||(localStorage.setItem(r["a"].state.setIsLoginLocalStorageKey,!1),localStorage.setItem(r["a"].state.setTokenLocalStorageKey,""))},mixins:[l["validationMixin"]],validations:{mobile:{required:c["required"],maxLength:Object(c["maxLength"])(15)},otp:{required:c["required"],maxLength:Object(c["maxLength"])(50)}},data:function(){return{appName:r["a"].state.appName,showPassword:!1,showErrorIcon:!1,dialog:!1,dialogCallResponse:!1,endpoint:r["a"].state.urlStore.baseUrl+r["a"].state.urlStore.voterUserLogin,mobile:"",otp:"",objectToSend:{mobileNumber:null,otp:null},breadCrumbsData:[{text:"INEC Login",disabled:!1,href:"#/Login"},{text:"Voters Login",disabled:!0,href:"#/LoginVoters"}]}},computed:{mobileErrors:function(){var t=[];return this.$v.mobile.$dirty?(!this.$v.mobile.maxLength&&t.push("Mobile must be no more than 15 characters long"),//!this.$v.email.email && errors.push("Must be valid e-mail");
!this.$v.mobile.required&&t.push("Mobile is required"),t):t},otpErrors:function(){var t=[];return this.$v.otp.$dirty?(!this.$v.otp.maxLength&&t.push("OTP must be no more than 10 characters long"),!this.$v.otp.required&&t.push("otp is required."),t):t}},methods:{submit:function(){if(this.$v.$touch(),!this.$v.$invalid){this.dialog=!0;var t=this;this.objectToSend.mobileNumber=this.mobile,this.objectToSend.otp=this.otp;var e=this.objectToSend;this.loginUrlCall(t,e)}},clear:function(){this.$v.$reset(),this.$router.go()},loginUrlCall:function(t,e){n.a.post(this.endpoint,e).then((function(e){e.data.responseCode===r["a"].state.successCode?(t.dialog=!1,localStorage.setItem(r["a"].state.setIsLoginAsVoterLocalStorageKey,!0),localStorage.setItem(r["a"].state.setTokenLocalStorageKey,e.data.data.id),localStorage.setItem(r["a"].state.setMobileLocalStorageKey,t.mobile),localStorage.setItem(r["a"].state.setOTPLocalStorageKey,t.otp),setTimeout((function(){t.$router.push("Dashboard")}),r["a"].state.redirectTimeout)):(t.showErrorIcon=!0,t.dialog=!1,t.dialogCallResponse=!0)})).catch((function(e){console.error(e),t.showErrorIcon=!0,t.dialog=!1,t.dialogCallResponse=!0}))}}},u=d,h=(a("becd"),a("2877")),m=a("6544"),b=a.n(m),g=a("0798"),p=a("2bc5"),v=a("8336"),f=a("b0af"),w=a("99d9"),C=a("169a"),x=a("8e36"),$=a("0fd9"),_=a("2fa4"),S=a("8654"),y=Object(h["a"])(u,o,s,!1,null,"ed0ec436",null);e["default"]=y.exports;b()(y,{VAlert:g["a"],VBreadcrumbs:p["a"],VBtn:v["a"],VCard:f["a"],VCardActions:w["a"],VCardText:w["b"],VDialog:C["a"],VProgressLinear:x["a"],VRow:$["a"],VSpacer:_["a"],VTextField:S["a"]})},"2bc5":function(t,e,a){"use strict";a("a15b");var o=a("5530"),s=(a("abd3"),a("ade3")),r=a("1c87"),i=a("58df"),n=Object(i["a"])(r["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),a=e.tag,s=e.data;return t("li",[t(a,Object(o["a"])({},s,{attrs:Object(o["a"])({},s.attrs,{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),d=a("7560");e["a"]=Object(i["a"])(d["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(o["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,a=[],o=0;o<this.items.length;o++){var s=this.items[o];a.push(s.text),e?t.push(this.$scopedSlots.item({item:s})):t.push(this.$createElement(n,{key:a.join("."),props:s},[s.text])),o<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},6569:function(t,e,a){},abd3:function(t,e,a){},becd:function(t,e,a){"use strict";var o=a("6569"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-13558e73.0c6ede10.js.map